# üìà S&P 500 Trading Strategy Report
## üìä 1. Features Used
* **Technical Indicators (—Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ Ticker):** Bollinger Bands, RSI, MACD (Signal, Diff).
* **Simple Features:** –õ–∞–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—Ç—ã (1d, 5d), 20-–¥–Ω–µ–≤–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å.
* **Target (–¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è):** `sign(return(D+1, D+2))`. –û–±–µ—Å–ø–µ—á–µ–Ω–æ **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö (No Leakage)** –ø—É—Ç–µ–º —Å–¥–≤–∏–≥–∞.

## ‚öôÔ∏è 2. Machine Learning Pipeline
* **Imputer:** `SimpleImputer(strategy='median')`.
* **Scaler:** `StandardScaler()`.
* **Model:** `LGBMClassifier` (Light Gradient Boosting Machine).
* **Hyperparameters (Best):** –ü–æ–ª—É—á–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é Grid Search:
    ```json
    {'model__learning_rate': 0.1, 'model__max_depth': 10, 'model__n_estimators': 50}
    ```

## üß™ 3. Cross-Validation Used
* **–ú–µ—Ç–æ–¥:** Time Series Split (Expanding Window).
* **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ–ª–¥–æ–≤:** 10 (N=10).
* **–î–ª–∏–Ω–∞ –∏—Å—Ç–æ—Ä–∏–∏ (–º–∏–Ω.):** –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –Ω–∞–±–æ—Ä –∫–∞–∂–¥–æ–≥–æ —Ñ–æ–ª–¥–∞ –∏–º–µ–µ—Ç –º–∏–Ω–∏–º—É–º 2 –≥–æ–¥–∞ –∏—Å—Ç–æ—Ä–∏–∏ (730 –¥–Ω–µ–π), —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤.
* **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:** –ì—Ä–∞—Ñ–∏–∫–∏ `TimeSeriesSplit.png` –∏ `BlockingTimeSeriesSplit.png` —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `results/cross-validation`.

## üöÄ 4. Strategy Chosen: Ternary Long/Short
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –¢–µ—Ä–Ω–∞—Ä–Ω–æ–º —Å–∏–≥–Ω–∞–ª–µ (Long/Short/Neutral):
    * **Long:** –ï—Å–ª–∏ $P(—Ä–æ—Å—Ç) > 0.6$ (Threshold).
    * **Short:** –ï—Å–ª–∏ $P(—Ä–æ—Å—Ç) < 0.4$ (Threshold).
    * **Neutral:** –ò–Ω–∞—á–µ.
* **–ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û–±—â–∞—è —Å—É–º–º–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –Ω–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å $1$, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—è –µ–≥–æ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ Long –∏ Short –ø–æ–∑–∏—Ü–∏—è–º–∏ (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –≤–µ—Å).

### Strategy Metrics (PnL & Max Drawdown)

| –ú–µ—Ç—Ä–∏–∫–∞ | Train Set (–¥–æ 2017-01-01) | Test Set (—Å 2017-01-01) |
| :--- | :---: | :---: |
| **–ö—É–º—É–ª—è—Ç–∏–≤–Ω—ã–π PnL ($)** | $-0.2340$ | $-0.0528$ |
| **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ (MDD)** | -0.2967 | -0.1529 |

* **PnL Plot:** –°–º. `strategy.png` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –±–µ–Ω—á–º–∞—Ä–∫–æ–º S&P 500.